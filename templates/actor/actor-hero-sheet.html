<form class="{{cssClass}} {{actor.type}} flexcol" autocomplete="off">

  {{!-- Sheet Header --}}
  <header class="sheet-header">
    <img class="profile-img" src="{{actor.img}}" data-edit="img" title="{{actor.name}}" height="100" width="100"/>
    <div class="header-fields">
      <h1 class="charname"><input name="name" type="text" value="{{actor.name}}" placeholder="Name"/></h1>
      {{!-- The grid classes are defined in scss/global/_grid.scss. To use,
      use both the "grid" and "grid-Ncol" class where "N" can be any number
      from 1 to 12 and will create that number of columns.  --}}
      <div class="resources grid grid-6col">

        {{!-- "flex-group-center" is also defined in the _grid.scss file
        and it will add a small amount of padding, a border, and will
        center all of its child elements content and text. --}}

        <div class="resource flex-group-center">
          <label for="system.generic.pl" class="resource-label">Power Level</label>
          <div class="resource-content flexrow flex-center flex-between">
          <input type="text" name="system.generic.pl" value="{{system.generic.pl}}" data-dtype="Number"/>
          </div>
        </div>
        <div class="resource flex-group-center">
          <label for="system.generic.extrapp" class="resource-label">Extra Points</label>
          <div class="resource-content flexrow flex-center flex-between">
          <input type="text" name="system.generic.extrapp" value="{{system.generic.extrapp}}" data-dtype="Number"/>
          </div>
        </div>
        <div class="resource flex-group-center">
          <label for="system.generic.pp" class="resource-label">Power Points</label>
          <div class="resource-content flexrow flex-center flex-between">
          <input type="text" disabled="true" name="system.generic.pp" value="{{system.generic.pp}}" data-dtype="Number"/>
          </div>
        </div>
        <div class="resource flex-group-center">
          <label for="system.generic.pp_spent" class="resource-label">Points Spent</label>
          <div class="resource-content flexrow flex-center flex-between">
          <input type="text" disabled="true" name="system.generic.pp" value="{{system.generic.pp_spent}}" data-dtype="Number"/>
          </div>
        </div>
        <div></div>
        <div class="resource flex-group-center">
          <label for="system.generic.hero_point" class="resource-label">Hero Points</label>
          <div class="resource-content flexrow flex-center flex-between">
          <input type="text" name="system.generic.hero_point" value="{{system.generic.hero_point}}" data-dtype="Number"/>
          </div>
        </div>
      </div>
    </div>
  </header>

  {{!-- Sheet Tab Navigation --}}
  <nav class="sheet-tabs tabs" data-group="primary">
    {{!-- Default tab is specified in actor-sheet.mjs --}}
    <a class="item" data-tab="features">Features</a>
    <a class="item" data-tab="description">Description</a>
    <a class="item" data-tab="effects">Effects</a>
  </nav>

  {{!-- Sheet Body --}}
  <section class="sheet-body">

    {{!-- Owned Features Tab --}}
    <div class="tab features" data-group="primary" data-tab="features">
      <section class="grid grid">
        <aside class="sidebar">

          {{!-- The grid classes are defined in scss/global/_grid.scss. To use,
          use both the "grid" and "grid-Ncol" class where "N" can be any number
          from 1 to 12 and will create that number of columns.  --}}
          
            {{#each system.abilities as |ability key|}}
            <div class="ability flexrow flex-group-left">
              <label class="resource-label rollable flexlarge align-center" data-roll="d20+@abilities.{{key}}.total" data-label="{{ability.label}}">{{ability.label}}</label>
              <input width="30" title="Purchased" type="text" name="system.abilities.{{key}}.purchased" value="{{ability.purchased}}" data-dtype="Number"/>
              <input width="30" title="Misc Bonuses" type="text" name="system.abilities.{{key}}.misc" value="{{ability.misc}}" data-dtype="Number"/>
              <input width="30" title="Automatic" type="text" disabled="true" name="system.abilities.{{key}}.auto" value="{{ability.auto}}" data-dtype="Number"/>
              <span class="ability-total rollable" data-roll="d20+@abilities.{{key}}.total" data-label="{{abilities}}">{{numberFormat ability.total decimals=0 sign=true}}</span>
            </div>
            {{/each}}
        </aside>

        <aside class="sidebar">
          {{#each system.defenses as |defense key|}}
          <section class="defense flexrow flex-group-left">
            <label class="resource-label rollable flexlarge align-center" data-roll="d20+@defenses.{{key}}.total" data-label="{{defense.label}}">{{defense.label}}</label>
            <input width="30" title="From Original Stat" type="text" disabled="true" name="system.defenses.{{key}}.default" value="{{defense.default}}" data-dtype="Number"/>
            <input width="30" title="Purchased" type="text" name="system.defenses.{{key}}.purchased" value="{{defense.purchased}}" data-dtype="Number"/>
            <input width="30" title="Misc Bonuses" type="text" name="system.defenses.{{key}}.misc" value="{{defense.misc}}" data-dtype="Number"/>
            <input width="30" title="Automatic" type="text" disabled="true" name="system.defenses.{{key}}.auto" value="{{defense.auto}}" data-dtype="Number"/>
            <span class="defense-total rollable" data-roll="d20+@defenses.{{key}}.total" data-label="{{defenses}}">{{numberFormat defense.total decimals=0 sign=true}}</span>
            <input width="30" title="AC" type="text" disabled="true" name="system.defenses.{{key}}.ac" value="{{defense.ac}}" data-dtype="Number"/>
          </section>
          {{/each}}
        </aside>
      </section>
      <aside class="sidebar">
        {{#each system.skills as |skill key|}}
          <section class="skill flexrow flex-group-left">
            <label class="resource-label rollable flexlarge align-center" data-roll="d20+@skills.{{key}}.total" data-label="{{skill.label}}">{{skill.label}}</label>
            <select name="skills-ability" id="skills-ability-{{skill.label}}" value="{{skill.ability}}">
              <option value="str">Str</option>
              <option value="sta">Sta</option>
              <option value="agl">Agl</option>
              <option value="dex">Dex</option>
              <option value="fgt">Fgt</option>
              <option value="int">Int</option>
              <option value="awe">Awe</option>
              <option value="pre">Pre</option>
            </select>
            <input title="From Original Stat" type="text" disabled="true" name="system.skills.{{key}}.default" value="{{skill.default}}" data-dtype="Number"/>
            <input title="Purchased" type="text" name="system.skills.{{key}}.purchased" value="{{skill.purchased}}" data-dtype="Number"/>
            <input title="Misc Bonuses" type="text" name="system.skills.{{key}}.misc" value="{{skill.misc}}" data-dtype="Number"/>
            <input title="Automatic" type="text" disabled="true" name="system.skills.{{key}}.auto" value="{{skill.auto}}" data-dtype="Number"/>
            <span class="skill-total rollable" data-roll="d20+@skills.{{key}}.total" data-label="{{skills}}">{{numberFormat skill.total decimals=0 sign=true}}</span>
            <input title="Untrained?" type="checkbox" name="untrained" id="unt-{{skill.label}}" disabled="true"/>
            <input title="Mastery" type="checkbox" name="mastery" disabled="true"/>
          </section>
          {{/each}}
        </aside>
    </div>

    {{!-- https://stackoverflow.com/questions/6199773/how-to-enable-disable-an-html-button-based-on-scenarios --}}
    {{!-- https://sebhastian.com/call-javascript-function-html/ --}}
    {{!-- Biography Tab --}}
    <div class="tab biography" data-group="primary" data-tab="description">
      {{!-- If you want TinyMCE editors to output inline rolls when rendered, you need to pass the actor's roll data to the rollData property. --}}
      {{editor system.biography target="system.biography" rollData=rollData button=true owner=owner editable=editable}}
    </div>

    {{!-- Owned Items Tab --}}
    <div class="tab items" data-group="primary" data-tab="items">
       {{> "systems/foundrymnm3e/templates/actor/parts/actor-items.html"}}
    </div>

    {{!-- Active Effects Tab --}}
    <div class="tab effects flexcol" data-group="primary" data-tab="effects">
      {{> "systems/foundrymnm3e/templates/actor/parts/actor-effects.html"}}
    </div>

  </section>
</form>

